(this.webpackJsonptours=this.webpackJsonptours||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),s=n(6),i=n.n(s),a=(n(13),n(4)),o=n.n(a),j=n(7),u=n(2),l=n(5),b=function(e){var t=e.name,n=e.price;return Object(c.jsxs)("div",{className:"tour-info",children:[Object(c.jsx)("h4",{children:t}),Object(c.jsxs)("h4",{className:"tour-price",children:["$",n]})]})},d=function(e){var t=e.info,n=Object(r.useState)(),s=Object(u.a)(n,2),i=s[0],a=s[1],o=Object(r.useState)(" read more"),j=Object(u.a)(o,2),l=j[0],b=j[1];Object(r.useEffect)((function(){return a(t.slice(0,200)+"...")}),[t]);return Object(c.jsxs)("p",{children:[i,Object(c.jsxs)("button",{onClick:function(){i.length>203?(a(i.slice(0,200)+"..."),b(" read more")):(a(t),b(" show less"))},children:[" ",l]})]})},O=function(e){var t=e.name,n=e.price,r=e.info,s=e.removeTour,i=e.id;return Object(c.jsxs)("footer",{children:[Object(c.jsx)(b,{name:t,price:n}),Object(c.jsx)(d,{info:r}),Object(c.jsx)("button",{onClick:function(){return s(i)},className:"delete-btn",children:"Not interested"})]})},h=function(e){var t=e.name,n=e.image,r=e.price,s=e.info,i=e.removeTour,a=e.id;return Object(c.jsxs)("article",{className:"single-tour",children:[Object(c.jsx)("img",{src:n,alt:t}),Object(c.jsx)(O,{name:t,price:r,info:s,id:a,removeTour:i})]})},f=function(e){var t=e.data,n=e.removeTour,r=t.map((function(e){return Object(c.jsx)(h,Object(l.a)(Object(l.a)({},e),{},{removeTour:n}),e.id)}));return Object(c.jsx)("div",{children:r})},x=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],s=t[1],i=Object(r.useState)(!1),a=Object(u.a)(i,2),l=a[0],b=a[1],d=Object(r.useState)(!0),O=Object(u.a)(d,2),h=O[0],x=O[1],m=function(){var e=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://course-api.com/react-tours-project");case 3:if(!((t=e.sent).status>=200&&t.status<=299)){e.next=10;break}return e.next=7,t.json();case 7:n=e.sent,e.next=13;break;case 10:throw b(!0),x(!1),new Error(t.statusText);case 13:s(n),x(!1),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(0),x(!1),b(!0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){m()}),[]);return h?Object(c.jsx)("main",{children:Object(c.jsx)("div",{className:"loading",children:Object(c.jsx)("h1",{children:"Loading..."})})}):0!==n.length||l?l?Object(c.jsx)("main",{children:Object(c.jsx)("div",{className:"loading",children:Object(c.jsx)("h1",{children:"Error"})})}):Object(c.jsx)("main",{children:Object(c.jsx)("section",{children:Object(c.jsx)(f,{data:n,removeTour:function(e){console.log(e);var t=n.filter((function(t){return t.id!==e}));s(t)}})})}):Object(c.jsx)("main",{children:Object(c.jsxs)("div",{className:"title",children:[Object(c.jsx)("h2",{children:"no tours left"}),Object(c.jsx)("button",{className:"btn",onClick:function(){return m()},children:"refresh"})]})})};i.a.render(Object(c.jsx)(x,{}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.bda00c92.chunk.js.map